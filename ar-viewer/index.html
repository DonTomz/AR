<!DOCTYPE html>
<html>
<head>
    <title>AR Artwork Viewer</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <style>
        .ar-instructions {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            text-align: center;
            z-index: 1000;
        }
        .ar-instructions a {
            color: #4CAF50;
        }
    </style>
</head>
<body style="margin: 0; overflow: hidden;">
    <div class="ar-instructions">
        <p>Point your camera at the HIRO marker</p>
        <a href="https://raw.githubusercontent.com/AR-js-org/AR.js/master/data/images/HIRO.jpg" 
           target="_blank">View Marker</a>
    </div>
    
    <script>
        // Get artwork URL from query parameters
        const urlParams = new URLSearchParams(window.location.search);
        const artworkUrl = urlParams.get('artwork');
        const size = parseFloat(urlParams.get('size')) || 1;

        // Create AR scene
        const scene = document.createElement('a-scene');
        scene.setAttribute('embedded', '');
        scene.setAttribute('arjs', 'sourceType: webcam; debugUIEnabled: false;');

        // Create marker
        const marker = document.createElement('a-marker');
        marker.setAttribute('preset', 'hiro');

        // Create artwork
        const artwork = document.createElement('a-image');
        artwork.setAttribute('src', artworkUrl);
        artwork.setAttribute('width', size);
        artwork.setAttribute('height', size * (9/16));
        artwork.setAttribute('position', '0 0.1 0');
        artwork.setAttribute('rotation', '-90 0 0');

        // Create camera
        const camera = document.createElement('a-entity');
        camera.setAttribute('camera', '');

        // Assemble scene
        marker.appendChild(artwork);
        scene.appendChild(marker);
        scene.appendChild(camera);
        document.body.appendChild(scene);
    </script>
</body>
</html> 